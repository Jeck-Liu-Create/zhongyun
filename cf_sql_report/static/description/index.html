<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="zh-CN">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.15.1: http://docutils.sourceforge.net/" />
<title>CF SQL Report Builder</title>
<style type="text/css">
.borderless, table.borderless td, table.borderless th { border: 0 }
table.borderless td, table.borderless th { padding: 0 0.5em 0 0 ! important }
.first { margin-top: 0 ! important }
.last, .with-subtitle { margin-bottom: 0 ! important }
.hidden { display: none }
.subscript { vertical-align: sub; font-size: smaller }
.superscript { vertical-align: super; font-size: smaller }
a.toc-backref { text-decoration: none ; color: black }
blockquote.epigraph { margin: 2em 5em ; }
dl.docutils dd { margin-bottom: 0.5em }
object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] { overflow: hidden;}
div.abstract { margin: 2em 5em }
div.abstract p.topic-title { font-weight: bold ; text-align: center }
div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning { margin: 2em ; border: medium outset ; padding: 1em }
div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title { font-weight: bold ; font-family: sans-serif }
div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error { color: red ; font-weight: bold ; font-family: sans-serif }
div.dedication { margin: 2em 5em ; text-align: center ; font-style: italic }
div.dedication p.topic-title { font-weight: bold ; font-style: normal }
div.figure { margin-left: 2em ; margin-right: 2em }
div.footer, div.header { clear: both; font-size: smaller }
div.line-block { display: block ; margin-top: 1em ; margin-bottom: 1em }
div.line-block div.line-block { margin-top: 0 ; margin-bottom: 0 ; margin-left: 1.5em }
div.sidebar { margin: 0 0 0.5em 1em ; border: medium outset ; padding: 1em ; background-color: #ffffee ; width: 40% ; float: right ; clear: right }
div.sidebar p.rubric { font-family: sans-serif ; font-size: medium }
div.system-messages { margin: 5em }
div.system-messages h1 { color: red }
div.system-message { border: medium outset ; padding: 1em }
div.system-message p.system-message-title { color: red ; font-weight: bold }
div.topic { margin: 2em }
h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle { margin-top: 0.4em }
h1.title { text-align: center }
h2.subtitle { text-align: center }
hr.docutils { width: 75% }
img.align-left, .figure.align-left, object.align-left, table.align-left { clear: left ; float: left ; margin-right: 1em }
img.align-right, .figure.align-right, object.align-right, table.align-right { clear: right ; float: right ; margin-left: 1em }
img.align-center, .figure.align-center, object.align-center { display: block; margin-left: auto; margin-right: auto;}
table.align-center { margin-left: auto; margin-right: auto;}
.align-left { text-align: left }
.align-center { clear: both ; text-align: center }
.align-right { text-align: right }
div.align-right { text-align: inherit }
.align-top  { vertical-align: top }
.align-middle { vertical-align: middle }
.align-bottom { vertical-align: bottom }
ol.simple, ul.simple { margin-bottom: 1em }
ol.arabic { list-style: decimal }
ol.loweralpha { list-style: lower-alpha }
ol.upperalpha { list-style: upper-alpha }
ol.lowerroman { list-style: lower-roman }
ol.upperroman { list-style: upper-roman }
p.attribution { text-align: right ; margin-left: 50% }
p.caption { font-style: italic }
p.credits { font-style: italic ; font-size: smaller }
p.label { white-space: nowrap }
p.rubric { font-weight: bold ; font-size: larger ; color: maroon ; text-align: center }
p.sidebar-title { font-family: sans-serif ; font-weight: bold ; font-size: larger }
p.sidebar-subtitle { font-family: sans-serif ; font-weight: bold }
p.topic-title { font-weight: bold }
pre.address { margin-bottom: 0 ; margin-top: 0 ; font: inherit }
pre.literal-block, pre.doctest-block, pre.math, pre.code { margin-left: 2em ; margin-right: 2em }
pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}
span.classifier { font-family: sans-serif ; font-style: oblique }
span.classifier-delimiter { font-family: sans-serif ; font-weight: bold }
span.interpreted { font-family: sans-serif }
span.option { white-space: nowrap }
span.pre { white-space: pre }
span.problematic { color: red }
span.section-subtitle { font-size: 80% }
table.citation { border-left: solid 1px gray; margin-left: 1px }
table.docinfo { margin: 2em 4em }
table.docutils { margin-top: 0.5em ; margin-bottom: 0.5em }
table.footnote { border-left: solid 1px black; margin-left: 1px }
table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th { padding-left: 0.5em ; padding-right: 0.5em ; vertical-align: top }
table.docutils th.field-name, table.docinfo th.docinfo-name { font-weight: bold ; text-align: left ; white-space: nowrap ; padding-left: 0 }
table.docutils.booktabs { border: 0px; border-top: 2px solid; border-bottom: 2px solid; border-collapse: collapse;}
table.docutils.booktabs * { border: 0px;}
table.docutils.booktabs th { border-bottom: thin solid; text-align: left;}
h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils { font-size: 100% }
ul.auto-toc { list-style-type: none }
</style>
</head>

<body>
<div class="document" id="bi-sql-editor">
    <h1 class="title">CF SQL Report Builder</h1>
    <p>本模块扩展康虎云报表功能，支持用户根据SQL创建模型（model），然后定义报表。让用户可以根据自己的业务需求任意定义模型来创建报表。</p>
    <p>通过定义生成新的模型(model)，用户可以指定根据该模型自动创建视图、菜单和动作等常功能界面。</p>
    <p>本质上，该模块是根据用户编写的SQL语句生成SQL视图(常规视图或物化视图)，然后若干视图生成基本型。（什么是物化视图用户可以查询相关资料）</p>
    <div class="section" id="warning">
        <h1>警告</h1>
        <p>本模块适用于懂SQL知识的技术人员使用。</p>
        <p>如果您不熟悉SQL知识且不太懂Odoo开发，请谨慎使用。</p>
    </div>
    <div class="section" id="use-cases">
        <h1>用例</h1>

        <p><strong>目录</strong></p>
        <div class="contents local topic" id="contents">
            <ul class="simple">
                <li><a class="reference internal" href="#installation" id="id1">安装</a></li>
                <li><a class="reference internal" href="#configuration" id="id2">配置</a></li>
                <li><a class="reference internal" href="#usage" id="id3">用法</a></li>
                <li><a class="reference internal" href="#credits" id="id5">鸣谢</a>
                    <ul>
                        <li><a class="reference internal" href="#authors" id="id6">作者</a></li>
                        <li><a class="reference internal" href="#contributors" id="id7">贡献者</a></li>
                        <li><a class="reference internal" href="#maintainers" id="id8">维护者</a></li>
                    </ul>
                </li>
            </ul>
        </div>
        <div class="section" id="installation">
            <h2><a class="toc-backref" href="#id1">安装</a></h2>
            <ul class="simple">
                <li>在odoo配置文件中把该模块设置为odoo的<cite>server_wide_modules</cite>，如果是命令行方式启动odoo，则在命令行中增加
                    ‘–load=cf_sql_report’参数。
                </li>
            </ul>
        </div>
        <div class="section" id="configuration">
            <h2><a class="toc-backref" href="#id2">配置</a></h2>
            <p>配置步骤:</p>
            <ul>
                <li><p class="first">登录Odoo，到“设置” --&gt; “技术” --&gt; “数据库结构” --&gt; “SQL视图”</p>
                </li>
                <li><p class="first">编写SQL语句</p>
                    <div class="figure">
                        <img alt="01_sql_request.png"
                             src="01_sql_request.png"
                             style="width: 800px;"/>
                    </div>
                </li>
                <li><p class="first">选择允许访问该视图的用户组</p>
                    <div class="figure">
                        <img alt="02_security_access.png"
                             src="02_security_access.png"
                             style="width: 800px;"/>
                    </div>
                </li>
                <li><p class="first">按“清理并校验SQL语句”按钮</p>
                </li>
                <li><p class="first">SQL语句校验无误后，模块分析该视图的字段，并给出字段映射。对于每个字段，你可以选择是否创建索引、是否作为透视表的行、列或维度值显示。</p>
                    <div class="figure">
                        <img alt="03_field_mapping.png"
                             src="03_field_mapping.png"
                             style="width: 800px;"/>
                    </div>
                </li>
                <li><p class="first">按“创建SQL视图、索引和模型”按钮。(如果设置视图是物化视图，则该步骤耗时稍长，请耐心等待)</p>
                </li>
                <li><p class="first">如果是物化视图:</p>
                    <blockquote>
                        <ul class="simple">
                            <li>将创建一个定时任务以刷新视图，用户可以定义刷新间隔时长。</li>
                            <li>显示视图占用空间大小（含索引）</li>
                        </ul>
                    </blockquote>
                    <div class="figure">
                        <img alt="04_materialized_view_setting.png"
                             src="04_materialized_view_setting.png"
                             style="width: 800px;"/>
                    </div>
                </li>
                <li><p class="first">最后，按“创建用户界面”按钮来创建菜单、动作、图表视图和搜索视图。</p>
                </li>
            </ul>
        </div>
        <div class="section" id="usage">
            <h2><a class="toc-backref" href="#id3">用法</a></h2>
            <p>要使用该模块，需要:</p>
            <ol class="arabic simple">
                <li>到 “报表” --&gt; “自定义报表”</li>
                <li>选择所需要的报表</li>
            </ol>
            <blockquote>
                <div class="figure">
                    <img alt="05_reporting_pivot.png"
                         src="05_reporting_pivot.png"
                         style="width: 800px;"/>
                </div>
            </blockquote>
            <ul>
                <li><p class="first">可以将任何报表切换成饼图或拆线图</p>
                    <div class="figure">
                        <img alt="05_reporting_pie.png"
                             src="05_reporting_pie.png"
                             style="width: 800px;"/>
                    </div>
                </li>
            </ul>
        </div>
        <div class="section" id="credits">
            <h2><a class="toc-backref" href="#id5">鸣谢</a></h2>
            <div class="section" id="authors">
                <h3><a class="toc-backref" href="#id6">作者</a></h3>
                <ul class="simple">
                    <li>GRAP</li>
                </ul>
            </div>
            <div class="section" id="maintainers">
                <h3><a class="toc-backref" href="#id8">维护者</a></h3>
                <p>该模块由盛哲康虎信息技术（厦门）有限公司维护，您有任何问题、意见和建议，请联系我们：</p>
                <ul>
                    <li>网站： <a href="http://www.khcloud.net" target="_blank">http://www.khcloud.net</a></li>
                    <li>Email： <a href="mailto:wdmsyf@sina.com" target="_blank">wdmsyf@sina.com</a></li>
                    <li>QQ： <a href="http://wpa.qq.com/msgrd?v=3&uin=360026606&site=qq&menu=yes" target="_blank">360026606</a></li>
                    <li>微信： <img alt="微信" src="wechat_360026606.png" width="150px"/></li>
                </ul>
                </p>
            </div>
        </div>
    </div>
</div>
</body>
</html>
